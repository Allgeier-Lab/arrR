# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' rcpp_allocation_ratio
#'
#' @description
#' Rcpp allocation ratio.
#'
#' @param biomass Numeric with biomass.
#' @param biomass_min,biomass_max Numeric with minum and maximum of biomass.
#' @param threshold,slope Numeric with function parameters.
#'
#' @details
#' Get ratio of bg and ag nutrient allocation. If ratio = 1, all nutrients are
#' allocated in the bg biomass.
#'
#' If the threshold is positive, the ratio is r=1 for all biomass values below the threshold.
#' If threshold is negative, the ratio is be r=0.5 at the threshold.
#'
#' @references
#' User wmsmith on CrossValidated: "Is there a formula for an s-shaped curve with
#' domain and range [0,1]?" <https://stats.stackexchange.com/questions/214877/>
#'
#' @return void
#'
#' @aliases rcpp_allocation_ratio
#' @rdname rcpp_allocation_ratio
#'
#' @keywords internal
.rcpp_allocation_ratio <- function(biomass, biomass_min, biomass_max, threshold, slope) {
    .Call(`_arrR_rcpp_allocation_ratio`, biomass, biomass_min, biomass_max, threshold, slope)
}

#' rcpp_cell_from_xy
#'
#' @description
#' Rcpp get cell from xy
#'
#' @param x,y Numeric with x,y coordinates.
#' @param extent Vector with extent (xmin, xmax, ymin, ymax).
#' @param dimensions Vector with number or rows and cols
#' @param rcpp Logical if TRUE Rcpp index is returned.
#'
#' @details
#' Get cell ID from xy coordinate. Allows only one coordinate pair at a time.
#' If \code{rcpp = TRUE} indexing starts at 0 in accordance with C++.
#'
#' @references
#' Code adapted from Robert J. Hijmans (2020). raster: Geographic Data Analysis
#' and Modeling. R package version 3.4-5. <https://CRAN.R-project.org/package=raster>
#'
#' @return int
#'
#' @aliases rcpp_cell_from_xy
#' @rdname rcpp_cell_from_xy
#'
#' @keywords internal
.rcpp_cell_from_xy <- function(x, y, extent, dimensions, rcpp) {
    .Call(`_arrR_rcpp_cell_from_xy`, x, y, extent, dimensions, rcpp)
}

#' rcpp_closest_reef
#'
#' @description
#' Rcpp get closest reef.
#'
#' @param x,y Numeric with xy coords of current individual.
#' @param coords_reef Matrix with ID and coords of reef cells.
#'
#' @details
#' Get ID and distance to closet reef cell. The first element of the returning
#' vector is the ID, the second the distance in meter.
#'
#' @return vector
#'
#' @aliases rcpp_closest_reef
#' @rdname rcpp_closest_reef
#'
#' @keywords internal
.rcpp_closest_reef <- function(x, y, coords_reef) {
    .Call(`_arrR_rcpp_closest_reef`, x, y, coords_reef)
}

#' rcpp_convert_nutr
#'
#' @description
#' Rcpp convert nutrients.
#'
#' @param x Numeric with nutrient amount.
#' @param to String to specify in which unit to convert.
#'
#' @details
#' Convert nutrients between g and umol based on molecular mass of (ammonium; NH4)
#'
#' @references
#' <https://en.wikipedia.org/wiki/Ammonium>
#'
#' @return double
#'
#' @aliases rcpp_convert_nutr
#' @rdname rcpp_convert_nutr
#'
#' @keywords internal
.rcpp_convert_nutr <- function(x, to) {
    .Call(`_arrR_rcpp_convert_nutr`, x, to)
}

#' rcpp_get_bearing
#'
#' @description
#' Rcpp get bearing between two coordinate pairs.
#'
#' @param x1,y1 Double with first xy coords pair.
#' @param x2,y2 Double with second xy coords pair.
#'
#' @details
#' Get bearing between (x1,y1) and (x2,y2).
#'
#' @return double
#'
#' @aliases rcpp_get_bearing
#' @rdname rcpp_get_bearing
#'
#' @keywords internal
.rcpp_get_bearing <- function(x1, y1, x2, y2) {
    .Call(`_arrR_rcpp_get_bearing`, x1, y1, x2, y2)
}

#' rcpp_modify_degree
#'
#' @description
#' Rcpp modify degree.
#'
#' @param x Numeric with current angle in degree.
#' @param y Numeric with change of degree (negative or positive).
#'
#' @details
#' Modify the degree of direction heading of individuals. The function ensures that
#' all degree are between 0 <= x <= 360.
#'
#' @return double
#'
#' @aliases rcpp_modify_degree
#' @rdname rcpp_modify_degree
#'
#' @keywords internal
.rcpp_modify_degree <- function(x, y) {
    .Call(`_arrR_rcpp_modify_degree`, x, y)
}

#' rcpp_move_behav
#'
#' @description
#' Rcpp simulate movement based on bioenergetics.
#'
#' @param fishpop Matrix with fishpop values.
#' @param pop_reserves_thres NumericVector with threshold of pop_reserves_max to drain prior to foraging.
#' @param move_mean,move_var Double with mean movement parameter.
#' @param move_reef Double with mean movement distance when sheltering at reef.
#' @param move_border Double with movement distance that surrounds reef cell border.
#' @param move_return Double with mean movement distance when returning to reef.
#' @param max_dist Maximum distance an individual can move.
#' @param coords_reef Matrix with ID and coords of reef cells.
#' @param extent Vector with extent (xmin,xmax,ymin,ymax).
#' @param dimensions Vector with dimensions (nrow, ncol).
#'
#' @details
#' Fish individuals move based on how much nutrients they have stored in their
#' reserves. There are three different movement behaviors.
#'
#' If reserves above a certain threshold, individuals either shelter at reef cells (behavior 1)
#' or move back towards reef cells (behavior 2). If reserves are not above the threshold,
#' individuals move randomly across the environment to forage.
#'
#' @return void
#'
#' @aliases rcpp_move_behav
#' @rdname rcpp_move_behav
#'
#' @keywords internal
.rcpp_move_behav <- function(fishpop, pop_reserves_thres, move_mean, move_var, move_reef, move_border, move_return, max_dist, coords_reef, extent, dimensions) {
    invisible(.Call(`_arrR_rcpp_move_behav`, fishpop, pop_reserves_thres, move_mean, move_var, move_reef, move_border, move_return, max_dist, coords_reef, extent, dimensions))
}

#' rcpp_move_rand
#'
#' @description
#' Rcpp simulate random/attracted movement.
#'
#' @param fishpop Matrix with fishpop values.
#' @param move_mean,move_var Double with mean and variance movement parameter.
#' @param max_dist Numeric with maximum movement distance
#' @param reef_attraction Bool if attracted towards reef.
#' @param coords_reef Matrix with ID and coords of reef cells.
#' @param extent Vector with extent (xmin,xmax,ymin,ymax).
#' @param dimensions Vector with dimensions (nrow, ncol).
#'
#' @details
#' Simulate movemnt of indivudals eiter either random (\code{reef_attraction = FALSE})
#' or attracted towards the artifical reef cells (\code{reef_attraction = TRUE}).
#'
#' In the case of random movement, each timestep a random movement distance
#' is drawn from a lognorm distribution and the individal moves into a random heading
#' direction drawn from an uniform distribution.
#'
#' In the case of attracted movement, fish individuals are aware of the distance to
#' the closest reef cell in three directions ahead of them (-45, 0, 45 degree) and
#' always swim in the direction of the shortest distance to a reef cell.
#'
#' @return void
#'
#' @aliases rcpp_move_rand
#' @rdname rcpp_move_rand
#'
#' @keywords internal
.rcpp_move_rand <- function(fishpop, move_mean, move_var, max_dist, reef_attraction, coords_reef, extent, dimensions) {
    invisible(.Call(`_arrR_rcpp_move_rand`, fishpop, move_mean, move_var, max_dist, reef_attraction, coords_reef, extent, dimensions))
}

#' rcpp_nutr_uptake
#'
#' @description
#' Rcpp nutrient uptake.
#'
#' @param nutrients,biomass Numeric with nutrient and biomass amount of cell.
#' @param v_max,k_m,time_frac Numeric with parameters
#'
#' @details
#' Calculate nutrient uptake of each cells depending on avaiable nutrients in the
#' water column and biomass. All values are scaled to the time period which can be
#' specified by \code{time_frac}. Are uptaken nutrients are removed from the pool.
#' If the calculated uptake exceeds the available amount, only the  available amount
#' is taken up.
#'
#' @references
#' DeAngelis, D.L., 1992. Dynamics of Nutrient Cycling and Food Webs. Springer
#' Netherlands, Dordrecht. <https://doi.org/10.1007/978-94-011-2342-6>
#'
#'Lee, K.-S., Dunton, K.H., 1999. Inorganic nitrogen acquisition in the seagrass
#'Thalassia testudinum: Development of a whole-plant nitrogen budget.
#'Limnol. Oceanogr. 44, 1204â€“1215. <https://doi.org/10.4319/lo.1999.44.5.1204>
#'
#' @return double
#'
#' @aliases rcpp_nutr_uptake
#' @rdname rcpp_nutr_uptake
#'
#' @keywords internal
.rcpp_nutr_uptake <- function(nutrients, biomass, v_max, k_m, time_frac) {
    .Call(`_arrR_rcpp_nutr_uptake`, nutrients, biomass, v_max, k_m, time_frac)
}

#' rcpp_quantile
#'
#' @description
#' Rcpp quantile
#'
#' @param x NumericVector with values.
#' @param q Double with quantile.
#'
#' @details
#' Returns q-th percentile of vector.
#'
#' @references
#' <https://stackoverflow.com/questions/26786078/rcpp-quantile-implementation>
#'
#' @return double
#'
#' @aliases rcpp_quantile
#' @rdname rcpp_quantile
#'
#' @keywords internal
.rcpp_quantile <- function(x, q) {
    .Call(`_arrR_rcpp_quantile`, x, q)
}

#' rcpp_reincarnate
#'
#' @description
#' Rcpp reincarnate fish indivudals.
#'
#' @param fishpop,fishpop_track Matrix with fishpop and starting fishpop values.
#' @param fish_id Vector with id of fish and corresponding cell ids.
#' @param seafloor Matrix with seafloor values.
#' @param extent Vector with extent (xmin,xmax,ymin,ymax).
#' @param dimensions Vector with dimensions (nrow, ncol).
#' @param pop_linf,pop_n_body,pop_reserves_max Numeric with parameters.
#' @param reason String with reason of reincarnation.
#'
#' @details
#' Creates a new individual after mortality event. The new individual has the same
#' value as the just died individual at the beginning of the simulation (i.e., timestep zero).
#' The mass difference (i.e. current mass minus mass at timestep zero) plus reserves
#' of the died individual are added to the detritus pool. The reincarnated individual
#' tries to fill its reserves from the detritus pool if enough nutrients are available.
#'
#' @return void
#'
#' @aliases rcpp_reincarnate
#' @rdname rcpp_reincarnate
#'
#' @keywords internal
.rcpp_reincarnate <- function(fishpop, fishpop_track, fish_id, seafloor, extent, dimensions, pop_linf, pop_n_body, pop_reserves_max, reason) {
    invisible(.Call(`_arrR_rcpp_reincarnate`, fishpop, fishpop_track, fish_id, seafloor, extent, dimensions, pop_linf, pop_n_body, pop_reserves_max, reason))
}

#' rcpp_rlognorm
#'
#' @description
#' Rcpp rlognorm.
#'
#' @param mean Double with mean.
#' @param sd Double with sd
#' @param min,max Double boundaries.
#'
#' @details
#' Draws random number from log-norm distribution. Function uses log-transformed
#' values and a normal distribution internally.
#'
#' @references
#' Truncated normal distribution from: J.B. Duck-Mayr (2018). RcppDist: 'Rcpp'
#' Integration of Additional Probability Distributions. R package version 0.1.1.
#' <https://CRAN.R-project.org/package=RcppDist>
#'
#' @return double
#'
#' @aliases rcpp_rlognorm
#' @rdname rcpp_rlognorm
#'
#' @keywords internal
.rcpp_rlognorm <- function(mean, sd, min, max) {
    .Call(`_arrR_rcpp_rlognorm`, mean, sd, min, max)
}

#' rcpp_shuffle
#'
#' @description
#' Rcpp shuffle vector.
#'
#' @param min,max Integer with minimum and maximum value of vector.
#'
#' @details
#' Creates vector with IDs from \code{min} to \code{max}, but in random order.
#'
#' @references
#' How to use time-based seed taken from <http://www.cplusplus.com/reference/algorithm/shuffle/>
#'
#' @return vector
#'
#' @aliases rcpp_shuffle
#' @rdname rcpp_shuffle
#'
#' @keywords internal
.rcpp_shuffle <- function(min, max) {
    .Call(`_arrR_rcpp_shuffle`, min, max)
}

#' rcpp_simulate
#'
#' @description
#' Rcpp run simulation.
#'
#' @param seafloor,fishpop Matrix with seafloor and fishpop data.
#' @param nutrients_input Vector with amount of nutrient input each timestep.
#' @param seafloor_track,fishpop_track List with entry for each saving timestep.
#' @param parameters List with parameters.
#' @param movement String specifing movement algorithm. Either 'rand', 'attr' or 'behav'.
#' @param extent Vector with extent (xmin,xmax,ymin,ymax).
#' @param dimensions Vector with dimensions (nrow, ncol).
#' @param max_i Integer with maximum number of simulation timesteps.
#' @param min_per_i Integer to specify minutes per i.
#' @param save_each Numeric how often data should be saved to return.
#' @param seagrass_each Integer how often (each i * x) seagrass dynamics will be simulated.
#' @param burn_in Numeric with timesteps used to burn in.
#' @param verbose If TRUE, progress reports are printed.
#'
#' @details
#' The functions is a 'wrapper' around the following sub-processes: (i) nutrient input,
#' (ii) seagrass growth, (iii) detritus mineralization, (iv) movement of individuals,
#' (v) respiration of individuals, (vi) growth of individuals, (vii) mortality of individuals,
#' (viii) diffusion of nutrients/detritus, and ix) nutrient output.
#'
#' @references
#' For a detailed model description see Esquivel, K.E., Hesselbarth, M.H.K., Allgeier, J.E.
#' Mechanistic support for increased primary production around artificial reefs. Manuscript
#' submitted for publication.
#'
#' @return void
#'
#' @aliases rcpp_simulate
#' @rdname rcpp_simulate
#'
#' @keywords internal
.rcpp_simulate <- function(seafloor, fishpop, nutrients_input, seafloor_track, fishpop_track, parameters, movement, extent, dimensions, max_i, min_per_i, save_each, seagrass_each, burn_in, verbose) {
    invisible(.Call(`_arrR_rcpp_simulate`, seafloor, fishpop, nutrients_input, seafloor_track, fishpop_track, parameters, movement, extent, dimensions, max_i, min_per_i, save_each, seagrass_each, burn_in, verbose))
}

#' rcpp_translate_torus
#'
#' @description
#' Rcpp translate coordinates around torus.
#'
#' @param x,y Double with x,y coordinates
#' @param extent Vector with extent (xmin,xmax,ymin,ymax).
#'
#' @details
#' Torus translation of coordinates if they exceed the provided extent. The translation
#' is done until coordinate is within extent (i.e., could be translated several times
#' if the difference is big).
#'
#' @return vector
#'
#' @aliases rcpp_translate_torus
#' @rdname rcpp_translate_torus
#'
#' @keywords internal
.rcpp_translate_torus <- function(x, y, extent) {
    .Call(`_arrR_rcpp_translate_torus`, x, y, extent)
}

#' rcpp_update_coords
#'
#' @description
#' Rcpp update coordinates.
#'
#' @param fishpop Matrix with fishpop values.
#' @param i Integer with row id.
#' @param move_dist,max_dist Numeric with (maximum) movement distance.
#' @param extent Vector with extent of study area.
#'
#' @details
#' Update xy coordinates and activity of fish individuals depending on \code{move_dist}.
#'
#' @return void
#'
#' @aliases rcpp_update_coords
#' @rdname rcpp_update_coords
#'
#' @keywords internal
.rcpp_update_coords <- function(fishpop, i, move_dist, max_dist, extent) {
    invisible(.Call(`_arrR_rcpp_update_coords`, fishpop, i, move_dist, max_dist, extent))
}

#' rcpp_vec_to_map
#'
#' @description
#' Rcpp matrix to map.
#'
#' @param key,value NumericVector with key and values values
#'
#' @details
#' Converts to vectors to a \code{std::map} object.
#'
#' @return map
#'
#' @aliases rcpp_vec_to_map
#' @rdname rcpp_vec_to_map
#'
#' @keywords internal
.rcpp_vec_to_map <- function(key, value) {
    .Call(`_arrR_rcpp_vec_to_map`, key, value)
}

# Register entry points for exported C++ functions
methods::setLoadAction(function(ns) {
    .Call('_arrR_RcppExport_registerCCallable', PACKAGE = 'arrR')
})
